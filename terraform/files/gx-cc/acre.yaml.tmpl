---
credentials: &openstack
  username: ${clouds.auth.username}
  password: ${secure.auth.password}
  tenantName: ${clouds.auth.project_name}
  domainName: ${clouds.auth.project_domain_name}
  userDomainName: ${clouds.auth.user_domain_name}
  authURL: ${clouds.auth.auth_url}
  OS_AUTH_URL: ${clouds.auth.auth_url}
  region:  ${clouds.region_name}

landscape:
  name: gardener-test-site
  domain: gardener-test.site

  gardener:
    extensions:
      provider-openstack:
        valueOverwrites:
          config:
            etcd:
              storage:
                className: cinder-default
                capacity: 25Gi
                provisioner: cinder.csi.openstack.org
      networking-calico:
        valueOverwrites:
          vethMTU: 1400

  monitoring:
    active: true
    username: admin
    password: password

  cluster:
    kubeconfig: ./kubeconfig
    domain: gardener.okeanos.xyz
    iaas: openstack
    networks:
      nodes: 10.45.0.0/16
      pods: 10.44.0.0/16
      services: 10.43.0.0/16

  iaas:
    - name: openstack
      type: openstack
      mode: seed
      seedConfig:
        backup:
          active: false
      region: ${clouds.region_name}
      zones:
        - nova
      credentials: *openstack
      floatingPools:
        - name: ${public}
      loadBalancerProviders:
        - name: amphora
      useOctavia: true
      machineTypes:
        - name: 2C-2GB-20GB
          cpu: "2"
          gpu: "0"
          memory: 2Gi
          usable: true
          storage:
            class: default
            type: default
            size: 20Gi
        - name: 2C-4GB-20GB
          cpu: "2"
          gpu: "0"
          memory: 4Gi
          usable: true
          storage:
            class: default
            type: default
            size: 20Gi
        - name: 2C-8GB-20GB
          cpu: "2"
          gpu: "0"
          memory: 8Gi
          usable: true
          storage:
            class: default
            type: default
            size: 20Gi
        - name: 4C-16GB-60GB
          cpu: "4"
          gpu: "0"
          memory: 16Gi
          usable: true
          storage:
            class: default
            type: default
            size: 60Gi
      machineImageDefinitions:
        - name: ubuntu
          versions:
            - version: 20.4.20201016
              image: Ubuntu 20.04
              regions:
                - name: RegionOne
                  id: c815c712-b125-4ae9-b3b6-efa2a1ed1605
      machineImages:
        - name: ubuntu
          versions:
            - version: 20.4.20201016

  etcd:
    backup:
      active: false

  identity:
    users:
      - email: admin@gardener.okeanos.xyz
        username: admin
        password: ${pw}
